
<!DOCTYPE html>
<html lang="en" class="terria">
<head>
    <base href="/">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="description" content="A web map built on Terria Map">
    <meta name="copyright" content="Copyright(c) 2012-2016 National ICT Australia Limited (NICTA), CSIRO Data61.  All rights reserved.">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <link rel="apple-touch-icon" sizes="57x57" href="favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
    <link rel="manifest" href="favicons/manifest.json">
    <meta name="msapplication-TileColor" content="#282D32">
    <meta name="msapplication-TileImage" content="favicons/ms-icon-144x144.png">
    <meta name="theme-color" content="#282D32">

    <title>Terria Map</title>

    <link href="https://cesium.com/downloads/cesiumjs/releases/1.104/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    <link rel="stylesheet" href="build/TerriaMap.css" />
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }

        #ui {
            transition: margin-right 0.3s ease;
            height: 100vh;
        }

        #chatboxContainer {
            width: 0;
            overflow: hidden;
            background-color: #ffffff;
            transition: width 0.3s ease;
            height: 100vh;
            position: fixed;
            top: 0;
            right: 0;
            z-index: 1001;
            box-shadow: -2px 0 8px rgba(0, 0, 0, 0.2);
        }

        .chatbox-modal {
            width: 400px;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .chatbox-avatar {
            text-align: center;
            padding-top: 10px;
        }

        .chatbox-avatar img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }

        .chatbox-header {
            background-color: #5A67D8;
            color: white;
            padding: 10px;
        }

        .chatbox-body {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            background-color: #F9FAFB;
        }

        .chatbox-footer {
            padding: 10px;
            border-top: 1px solid #ccc;
            background-color: #f1f1f1;
            display: flex;
        }

        .chatbox-footer input {
            flex-grow: 1;
            padding: 10px;
            border-radius: 25px;
            border: 1px solid #ccc;
            outline: none;
        }

        .chatbox-footer button {
            margin-left: 10px;
            background-color: #5A67D8;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
        }

        #floatingButton {
            position: fixed;
            right: 30px;
            bottom: 30px;
            z-index: 1100;
            background-color: #007BFF;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            border: none;
            font-size: 28px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="ui"></div>

    <div id="chatboxContainer">
        <div class="chatbox-modal">
            <div class="chatbox-avatar">
                <img src="avatar.png" alt="Avatar">
            </div>
            <div class="chatbox-header">
                Chat with Ad
                <button id="refreshChat" style="float: right; background: none; border: none; color: white; font-size: 16px; cursor: pointer;">âŸ³</button>
            </div>
            <div class="chatbox-body">
                <p>Welcome! How can I help you today?</p>
                <div class="chatbox-buttons">
                    <button data-intent="run_wedge_layers">Wedges</button>
                    <button data-intent="run_nova_layers">Run NOVA</button>
                    <button data-intent="run_atom_layers">Run ATOM</button>
                </div>
            </div>
            <div class="chatbox-footer">
                <input type="text" id="chatInput" placeholder="Type a message...">
                <button id="sendButton">Send</button>
            </div>
        </div>
    </div>

    <button id="floatingButton">ðŸ’¬</button>

    <script src="build/TerriaMap.js"></script>
    <script src="index.js"></script>
    <script>
        const floatingButton = document.getElementById("floatingButton");
        const chatboxContainer = document.getElementById("chatboxContainer");
        const mapContainer = document.getElementById("ui");

        floatingButton.addEventListener("click", () => {
            const isOpen = chatboxContainer.style.width === "400px";
            if (isOpen) {
                chatboxContainer.style.width = "0";
                mapContainer.style.marginRight = "0";
            } else {
                chatboxContainer.style.width = "400px";
                mapContainer.style.marginRight = "400px";
            }
        });
    </script>
</body>
</html>
